## π“† 2024-05-14

### π”” μ¤ν¬λΌ

- ν•™μµ λ©ν‘ 1 : λΉ„λ°€λ²νΈ μ•”νΈν™” λ°©μ‹ κ³µλ¶€
  <br/>

### π€ Today I Learned

#### | λΉ„λ°€λ²νΈ μ•”νΈν™”

`λΉ„λ°€λ²νΈ μ•”νΈν™”`λ€, ν‰λ¬ΈμΌλ΅ λμ–΄μλ” λΉ„λ°€λ²νΈλ¥Ό ν•΄μ»¤κ°€ μ½κ±°λ‚ μ‚¬μ©ν•  μ μ—†λ„λ΅ νΉμ€ μ‹μ¤ν…μ΄λ‚ κ΄€λ¦¬μκ°€ μ• μ μ—†λ„λ΅ ν•λ” λ°©λ²•μ΄λ‹¤.

**μ•”νΈν™” μ ν•**

- λ€μΉ­ ν‚¤: μ‹μ¤ν…μ— μ•”νΈν™”/λ³µνΈν™” ν‚¤κ°€ μ΅΄μ¬, ν‚¤λ¥Ό ν†µν•΄ λΉ„λ°€λ²νΈλ¥Ό μ•”νΈν™”ν•κ³  λ³µνΈν™”ν•¨
- κ³µκ° ν‚¤(=λΉ„λ€μΉ­ ν‚¤): μ•”νΈν™”, λ³µνΈν™”μ— μ΄μ©ν•λ” ν‚¤κ°€ λ‹¤λ¦„
- ν•΄μ‹±: ν•΄μ‹± μ•κ³ λ¦¬μ¦μ„ ν†µν•΄μ„ λΉ„λ°€λ²νΈλ¥Ό λ¬΄μ‘μ„λ΅ λ³€κ²½
- μ†”νΈ: λ‹¨λ°©ν–¥ ν•΄μ‹ν•¨μ, ν•΄μ‹± ν•κΈ° μ „μ— μ›λ¬Έμ— μ„μμ λ¬Έμμ—΄μ„ λ§λ¶™μ„

**bcrypt, crypto**

- `bcrypt`: μ•”νΈν™” ν•΄μ‹ ν•¨μ, μ†λ„κ°€ λλ¦Ό
- `crypto`: λ‹¤μ–‘ν• μ•”νΈν™” μ•κ³ λ¦¬μ¦ μ κ³µν•λ” λ¨λ“, μ†λ„κ°€ λΉ λ¦„

#### crypto

- .createHash(): μ‚¬μ©ν•  ν•΄μ‹ μ•κ³ λ¦¬μ¦
  ex) 'sha256', 'sha512'κ°€ λ€ν‘μ 
- .update(): μ•”νΈν™”ν•  λΉ„λ°€λ²νΈ
- .digest(): μ‚¬μ©ν•  μΈμ½”λ”© λ°©μ‹
  ex) 'base6', 'hex', 'latin1'

```
  crypto.createHash("sha512").update(password).digest("base64");
```

**crypto**μ λ¬Έμ μ 

- κ°™μ€ ν•΄μ‹ μ•κ³ λ¦¬μ¦κ³Ό μΈμ½”λ”© λ°©μ‹μ„ μ‚¬μ©ν•λ©΄ λ™μΌν• ν•΄μ‹ κ°’μ„ λ°ν™ (λ μΈλ³΄μ° ν…μ΄λΈ”)
- ν•΄μ»¤λ” μ΄λ¥Ό ν†µν•΄ λΉ„λ°€λ²νΈλ¥Ό ν•΄ν‚Ήν•  μ μμ

**crypto**μ ν•΄κ²°μ±…

- 'salt'λΌλ” μ„μμ κ°’μ„ ν•΄μ‹ μ „μ— λ¶™μ—¬ λ³€ν•
- μ—¬λ¬λ² ν•΄μ‹ν•κΈ°

<br/>

#### bcrypt

`bcrypt`λ” λ‹¨λ°©ν–¥ μ•”νΈν™”μ—μ„ μ‚¬μ©

- μ†”ν… + ν‚¤ μ¤νΈλ μΉ­
  μ†”ν…: μ„μμ λ¬Έμμ—΄μ„ λ¶™μ΄λ” λ°©μ‹
  ν‚¤ μ¤νΈλ μΉ­: ν•΄μ‹ κ°’μ„ κ³„μ‚°ν•κ³ , κ·Έ κ°’μ„ λ‹¤μ‹ ν•΄μ‹ν•κ³  λ°λ³µν•λ” λ°©μ‹

- salt κ°’ μƒμ„±

  ```
  const salt = bcrypt.genSaltSync( n );
  ```

  n κ°’μ΄ λ†’μ„ μλ΅ λ³΄μ• μμ¤€ μ¬λΌκ°€μ§€λ§, μ‹κ°„μ΄ μ¤λκ±Έλ¦Ό

- ν•΄μ‹ μƒμ„±

  ```
  const hash = bcrypt.hashSync( λΉ„λ°€λ²νΈ, salt );
  ```

  μ‚¬μ©μκ°€ μ…λ ¥ν• λΉ„λ°€λ²νΈλ¥Ό salt κ°’κ³Ό ν•¨κ» ν•΄μ‹

- λΉ„λ°€λ²νΈ λΉ„κµ
  ```
  const isCorrect = await bcrypt.compare( μ…λ ¥ λΉ„λ°€λ²νΈ, ν•΄μ‹±λ μ μ € λΉ„λ°€λ²νΈ );
  ```
  μ…λ ¥ν• λΉ„λ°€λ²νΈμ™€ μ €μ¥λ (ν•΄μ‹ λΉ„λ°€λ²νΈ)λ¥Ό λΉ„κµ

### π”¥ μ¤λμ λ„μ „ κ³Όμ μ™€ ν•΄κ²° λ°©λ²•

- λ„μ „ κ³Όμ  1: λΉ„λ°€λ²νΈ μ•”νΈν™”λ¥Ό community ν”„λ΅μ νΈμ— μ μ©ν•κΈ°

### π—¨οΈ μ¤λμ νκ³ 

<!--
- μ¤λμ ν•™μµ κ²½ν—μ— λ€ν• μμ λ΅μ΄ μƒκ°μ΄λ‚ λλ‚€ μ μ„ κΈ°λ΅ν•©λ‹λ‹¤.
- μ„±κ³µμ μΈ μ , κ°μ„ ν•΄μ•Ό ν•  μ , μƒλ΅­κ² μ‹λ„ν•κ³  μ‹¶μ€ λ°©λ²• λ“±μ„ ν¬ν•¨ν•  μ μμµλ‹λ‹¤.-->

- ν„μ¬ λΉ„λ°€λ²νΈλ¥Ό λ‚  κ²ƒ κ·Έμμ²΄λ΅ μ €μ¥ν•κ³  μμ -> λ³΄μ•μ— μ·¨μ•½ν•κΈ° λ•λ¬Έμ— μ¤λ κ³µλ¶€ν• bcyptλ¥Ό μ΄μ©ν•΄μ„ λΉ„λ°€λ²νΈλ¥Ό μ•”νΈν™”ν•  μμ •μ΄λ‹¤.
